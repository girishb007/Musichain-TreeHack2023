<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://unpkg.com/boxicons@2.1.2/dist/boxicons.js"></script>
    <link rel="stylesheet" href="./assets/css/style.css">

    <script src="https://kit.fontawesome.com/860e7596f3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>

    <title>Musichain</title>
</head>

<body>

    <div class="audio-container">
        <h1>Musichain</h1>

        <div class="audio-img-wrapper">
            <div class="audio-img">
                <img src="https://images.unsplash.com/photo-1525362081669-2b476bb628c3?ixlib=rb-1.2.1&raw_url=true&q=80&fm=jpg" alt="" class="img">
            </div>

            <h2 class="audio-title">Title of audio</h2>
            <h6 class="audio-singer" id="singerName">Singer name</h6>
        </div>

        <div class="audio-progress">
            <div class="progress">
                <div class="progress-bar"></div>
                <div class="progress-head"></div>
            </div>
            <div class="current-time">00:00</div>
            <div class="duration">00:00</div>
        </div>

        <div class="audio-btns">
            <!-- <button class="btn shuffle">
                <i class="fa-solid fa-shuffle"></i>
            </button> -->

            <button class="btn skip-back">
                <i class="fa-solid fa-backward-step"></i>
            </button>

            <button class="btn play">
                <span> <i class="fa-solid fa-play"></i> </span>
            </button>

            <button class="btn skip-forward">
                <i class="fa-solid fa-forward-step"></i>
            </button>

            <!-- <button class="btn repeat">
                <i class="fa-solid fa-repeat"></i>
            </button> -->
        </div>
    </div>

    <!--===== MAIN JS =====-->
    <script src="./assets/js/main.js"></script>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
    import { getDatabase, set,ref,get } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";
    var firebaseConfig = {
    apiKey: "AIzaSyB3ByfKpp3018i60eO1Zvjtcy5ibS6N_q0",
    authDomain: "treehack-pro.firebaseapp.com",
    projectId: "treehack-pro",
    storageBucket: "treehack-pro.appspot.com",
    messagingSenderId: "224737491755",
    appId: "1:224737491755:web:faed54c98d6b4743b1e36e",
    measurementId: "G-JWXCJFMN4X"
    };
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
    auth.onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.
    var displayName = user.username;
    var uid = user.uid;
    const userRef = ref(database, 'users/' + uid);
    get(userRef).then((snapshot) => {
    const userData = snapshot.val();
    document.getElementById("singerName").textContent = "Hello " +userData.username;   
    });

}});
</script>

</body>

</html>